"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(e,n,o){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){return r(e[s][1][t]||t)},l,l.exports,t,e,n,o)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}return t}()({1:[function(t,e,n){!function(e){var n=t("embed-video");WPDOptimisedVideoEmbed=function(t){this.nodeID=t.id,this.nodeClass=".fl-node-"+this.nodeID,this.videoType=t.videoData.type,this.videoID=t.videoData.video_id,this.videoUrl=t.moduleSettings.video_url,this.videoParameters=t.moduleSettings.video_url_parameters?"&"+t.moduleSettings.video_url_parameters.join("&"):"",this.thumbnailContainer=e(this.nodeClass).find(".wpd-optimised-video__thumbnail-container"),this.customThumbnailImage=void 0!==t.moduleSettings.use_custom_thumbnail&&"yes"===t.moduleSettings.use_custom_thumbnail&&void 0!==t.moduleSettings.custom_thumbnail_image_src?t.moduleSettings.custom_thumbnail_image_src:null,this.thumbnailQuality=t.moduleSettings.thumbnail_quality,this.playButtonClass=t.moduleSettings.icon,this.postID=e(this.nodeClass).closest(".fl-builder-content").data("post-id"),this.autoplayOnEvent=void 0!==t.moduleSettings.trigger_autoplay&&"yes"===t.moduleSettings.trigger_autoplay,this.buttonContainer=e(this.nodeClass).find(".wpd-optimised-video__timed-cta-button-container"),this.enableTimedButton=void 0!==t.moduleSettings.enable_delayed_cta&&"yes"===t.moduleSettings.enable_delayed_cta?"yes":"no",this.triggerTimer="yes"===this.enableTimedButton&&t.moduleSettings.delay_time?parseInt(1e3*t.moduleSettings.delay_time)+1500:3500,this.revealAnimation="yes"===this.enableTimedButton&&"undefined"!==t.moduleSettings.reveal_animation?t.moduleSettings.reveal_animation:"fade",this.enableLightBox=t.moduleSettings.open_video_in_lightbox,this._init()},WPDOptimisedVideoEmbed.prototype={nodeID:"",nodeClass:"",videoType:"",videoID:"",videoUrl:"",videoParameters:"",thumbnail:"",thumbnailContainer:"",thumbnailQuality:"",playButton:"",playButtonClass:"",autoplayOnEvent:!1,triggerTimer:2e3,revealAnimation:"fade",_bindEvents:function(){var t=this;"yes"===this.enableLightBox?e(t.thumbnailContainer).on("click touch",e.proxy(t._openVideoInLightBox,t)):(e(t.thumbnailContainer).on("click touch",e.proxy(t._replaceThumbnailWithIframe,t)),"yes"===t.enableTimedButton&&e(t.thumbnailContainer).on("click touch",e.proxy(t._displayCallToActionButton,t)))},_createThumbnailImgElement:function(){this.thumbnail=document.createElement("img"),e(this.thumbnail).addClass("wpd-optimised-video__thumbnail").appendTo(this.thumbnailContainer)},_setVideoThumbnailImgSrc:function(){"youtube"===this.videoType?this._setYoutubeThumbnail():"vimeo"===this.videoType&&this._setVimeoThumbnail()},_createPlayButtonElement:function(){this.playButton=document.createElement("i"),e(this.playButton).addClass(this.playButtonClass+" wpd-optimised-video__play-button").appendTo(this.thumbnailContainer)},_setYoutubeThumbnail:function(){var t,o,r=this,i=r.videoID;this.customThumbnailImage?(o=this.customThumbnailImage,e(r.thumbnail).attr("src",o)):(t="high"===this.thumbnailQuality?"maxresdefault":"hqdefault",n.image("https://www.youtube.com/watch?v="+i,{image:t},function(t,n){if(t)throw t;e(r.thumbnail).attr("src",n.src)}))},_setVimeoThumbnail:function(){var t,o,r=this,i=r.videoID;this.customThumbnailImage?(t=this.customThumbnailImage,e(r.thumbnail).attr("src",t)):(o="high"===r.thumbnailQuality?"thumbnail_large":"thumbnail_medium",n.image("https://vimeo.com/"+i,{image:o},function(t,n){if(t)throw t;e(r.thumbnail).attr("src",n.src)}))},_getIframeEmbed:function(){var t,o={autoplay:1},r=this.videoParameters;return r&&(r=r.split("&"),e.each(r,function(t,e){if(e&&-1!==e.indexOf("=")){e=e.split("=");var n=e[0],r=e[1];o[n]=r}})),this.autoplayOnEvent&&(o.mute=1),"youtube"===this.videoType?t=n.youtube(this.videoID,{query:o}):"vimeo"===this.videoType&&(t=n.vimeo(this.videoID,{query:o})),t},_replaceThumbnailWithIframe:function(){e(this.thumbnailContainer).replaceWith(e.proxy(this._getIframeEmbed,this))},_triggerAutoplayEvents:function(){var t=this;t.autoplayOnEvent&&e(document).on("WPDBBPopupOpen",function(n){parseInt(n.detail.popupId)===parseInt(t.postID)&&("yes"===t.enableTimedButton&&e.proxy(t._displayCallToActionButton,t)(),e.proxy(t._replaceThumbnailWithIframe,t)())})},_displayCallToActionButton:function(){var t=this.revealAnimation,n=this;setTimeout(function(){e(n.buttonContainer).addClass("wpd-optimised-video__cta-active"),"fade"===t?e(n.buttonContainer).stop().fadeIn("slow"):e(n.buttonContainer).stop().slideDown("slow")},n.triggerTimer)},_openVideoInLightBox:function(){var t=this;void 0!==e.fn.magnificPopup&&e.magnificPopup.open({closeOnContentClick:!0,closeBtnInside:!1,items:{src:t.videoUrl},type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div>',patterns:{youtube:{index:"youtube.com/",id:"v=",src:"https://www.youtube.com/embed/%id%?autoplay=1"+this.videoParameters},vimeo:{index:"vimeo.com/",id:"/",src:"https://player.vimeo.com/video/%id%?autoplay=1"+this.videoParameters}},srcAction:"iframe_src"}})},_init:function(){this._bindEvents(),this._triggerAutoplayEvents(),this._createThumbnailImgElement(),this._createPlayButtonElement(),this._setVideoThumbnailImgSrc()}}}(jQuery)},{"embed-video":2}],2:[function(t,e,n){function o(t,e){var n=o.info(t);return n&&o[n.source]&&o[n.source](n.id,e)}function r(t){var e;return"vimeo.com"===t.hostname&&(e=y.exec(t.pathname))?e[1]:null}function i(t){return t.hostname.indexOf("youtube.com")>-1?t.query.v:"youtu.be"===t.hostname?t.pathname.split("/")[1]:null}function s(t){return t.hostname.indexOf("dailymotion.com")>-1?t.pathname.split("/")[2].split("_")[0]:"dai.ly"===t.hostname?t.pathname.split("/")[1]:null}function a(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function u(t){var e="",n="";return t&&t.hasOwnProperty("query")&&(e="?"+a(t.query)),t&&t.hasOwnProperty("attr")&&(n=" "+Object.keys(t.attr).map(function(e){return e+'="'+c(t.attr[e])+'"'}).join(" ")),{query:e,attr:n}}var h=t("url"),l=t("promise-polyfill"),f=t("fetch-ponyfill")({Promise:l}).fetch,c=t("lodash.escape"),d=["thumbnail_small","thumbnail_medium","thumbnail_large"],p=["default","mqdefault","hqdefault","sddefault","maxresdefault"],m=["thumbnail_60_url","thumbnail_120_url","thumbnail_180_url","thumbnail_240_url","thumbnail_360_url","thumbnail_480_url","thumbnail_720_url","thumbnail_1080_url"],y=/^(?:\/video|\/channels\/[\w-]+|\/groups\/[\w-]+\/videos)?\/(\d+)/;o.info=function(t){t=h.parse(t,!0);var e;return(e=i(t))?{id:e,source:"youtube",url:t.href}:(e=r(t))?{id:e,source:"vimeo",url:t.href}:(e=s(t),e?{id:e,source:"dailymotion",url:t.href}:void 0)},o.videoSource=o.info,o.image=function(t,e,n){"function"==typeof e&&(n=e,e={}),e=e||{};var r=o.info(t);return!r&&n?setTimeout(function(){n()}):r&&o[r.source].image(r.id,e,n)},o.vimeo=function(t,e){return e=u(e),'<iframe src="//player.vimeo.com/video/'+t+e.query+'"'+e.attr+' frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'},o.youtube=function(t,e){return e=u(e),'<iframe src="//www.youtube.com/embed/'+t+e.query+'"'+e.attr+' frameborder="0" allowfullscreen></iframe>'},o.dailymotion=function(t,e){return e=u(e),'<iframe src="//www.dailymotion.com/embed/video/'+t+e.query+'"'+e.attr+' frameborder="0" allowfullscreen></iframe>'},o.youtube.image=function(t,e,n){"function"==typeof e&&(n=e,e={}),e=e||{},e.image=p.indexOf(e.image)>0?e.image:"default";var o="//img.youtube.com/vi/"+t+"/"+e.image+".jpg",r={src:o,html:'<img src="'+o+'"/>'};if(!n)return r.html;setTimeout(function(){n(null,r)})},o.vimeo.image=function(t,e,n){if("function"==typeof e&&(n=e,e={}),!n)throw new Error("must pass embed.vimeo.image a callback");e=e||{},e.image=d.indexOf(e.image)>=0?e.image:"thumbnail_large",f("https://vimeo.com/api/v2/video/"+t+".json").then(function(t){if(200!==t.status)throw new Error("unexpected response from vimeo");return t.json()}).then(function(o){if(!o||!o[0]||!o[0][e.image])throw new Error("no image found for vimeo.com/"+t);var r=o[0][e.image].split(":")[1];n(null,{src:r,html:'<img src="'+r+'"/>'})}).catch(function(t){n(t)})},o.dailymotion.image=function(t,e,n){if("function"==typeof e&&(n=e,e={}),!n)throw new Error("must pass embed.dailymotion.image a callback");e=e||{},e.image=m.indexOf(e.image)>=0?e.image:"thumbnail_480_url",f("https://api.dailymotion.com/video/"+t+"?fields="+e.image).then(function(t){if(200!==t.status)throw new Error("unexpected response from dailymotion");return t.json()}).then(function(o){if(!o||!o[e.image])throw new Error("no image found for dailymotion.com/"+t);var r=o[e.image];n(null,{src:r,html:'<img src="'+r+'"/>'})}).catch(function(t){n(t)})},e.exports=o},{"fetch-ponyfill":4,"lodash.escape":3,"promise-polyfill":5,url:10}],3:[function(t,e,n){(function(t){function n(t){if("string"==typeof t)return t;if(r(t))return _?_.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}function o(t){return!!t&&"object"==(void 0===t?"undefined":_typeof(t))}function r(t){return"symbol"==(void 0===t?"undefined":_typeof(t))||o(t)&&v.call(t)==u}function i(t){return null==t?"":n(t)}function s(t){return t=i(t),t&&l.test(t)?t.replace(h,m):t}var a=1/0,u="[object Symbol]",h=/[&<>"'`]/g,l=RegExp(h.source),f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},c="object"==(void 0===t?"undefined":_typeof(t))&&t&&t.Object===Object&&t,d="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,p=c||d||Function("return this")(),m=function(t){return function(e){return null==t?void 0:t[e]}}(f),y=Object.prototype,v=y.toString,b=p.Symbol,g=b?b.prototype:void 0,_=g?g.toString:void 0;e.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e,n){!function(t){function o(e){var n=e&&e.Promise||t.Promise,o=e&&e.XMLHttpRequest||t.XMLHttpRequest,r=t;return function(){var t=Object.create(r,{fetch:{value:void 0,writable:!0}});return function(t){function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return g.iterable&&(e[Symbol.iterator]=function(){return e}),e}function s(t){this.map={},t instanceof s?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function a(t){if(t.bodyUsed)return n.reject(new TypeError("Already read"));t.bodyUsed=!0}function u(t){return new n(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function h(t){var e=new FileReader,n=u(e);return e.readAsArrayBuffer(t),n}function l(t){var e=new FileReader,n=u(e);return e.readAsText(t),n}function f(t){for(var e=new Uint8Array(t),n=new Array(e.length),o=0;o<e.length;o++)n[o]=String.fromCharCode(e[o]);return n.join("")}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(g.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(g.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(g.arrayBuffer&&g.blob&&w(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!x(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var t=a(this);if(t)return t;if(this._bodyBlob)return n.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return n.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return n.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||n.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var t=a(this);if(t)return t;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return n.resolve(f(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return n.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(t){var e=t.toUpperCase();return j.indexOf(e)>-1?e:t}function m(t,e){e=e||{};var n=e.body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new s(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new s(e.headers)),this.method=p(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function y(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),o=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(r))}}),e}function v(t){var e=new s;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),o=n.shift().trim();if(o){var r=n.join(":").trim();e.append(o,r)}}),e}function b(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new s(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var g={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(g.arrayBuffer)var _=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=function(t){return t&&DataView.prototype.isPrototypeOf(t)},x=ArrayBuffer.isView||function(t){return t&&_.indexOf(Object.prototype.toString.call(t))>-1};s.prototype.append=function(t,n){t=e(t),n=r(n);var o=this.map[t];this.map[t]=o?o+","+n:n},s.prototype.delete=function(t){delete this.map[e(t)]},s.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},s.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},s.prototype.set=function(t,n){this.map[e(t)]=r(n)},s.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},s.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),i(t)},s.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},s.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),i(t)},g.iterable&&(s.prototype[Symbol.iterator]=s.prototype.entries);var j=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},d.call(m.prototype),d.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})},b.error=function(){var t=new b(null,{status:0,statusText:""});return t.type="error",t};var O=[301,302,303,307,308];b.redirect=function(t,e){if(-1===O.indexOf(e))throw new RangeError("Invalid status code");return new b(null,{status:e,headers:{location:t}})},t.Headers=s,t.Request=m,t.Response=b,t.fetch=function(t,e){return new n(function(n,r){var i=new m(t,e),s=new o;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:v(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;n(new b(e,t))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),"include"===i.credentials&&(s.withCredentials=!0),"responseType"in s&&g.blob&&(s.responseType="blob"),i.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send(void 0===i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}(void 0!==t?t:this),{fetch:t.fetch,Headers:t.Headers,Request:t.Request,Response:t.Response}}()}"function"==typeof define&&define.amd?define(function(){return o}):"object"===(void 0===n?"undefined":_typeof(n))?e.exports=o:t.fetchPonyfill=o}("undefined"==typeof self?this:self)},{}],5:[function(t,e,n){!function(t){function n(){}function o(t,e){return function(){t.apply(e,arguments)}}function r(t){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function i(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,r._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?s:a)(e.promise,t._value);var o;try{o=n(t._value)}catch(t){return void a(e.promise,t)}s(e.promise,o)})}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e)){var n=e.then;if(e instanceof r)return t._state=3,t._value=e,void u(t);if("function"==typeof n)return void l(o(n,e),t)}t._state=1,t._value=e,u(t)}catch(e){a(t,e)}}function a(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&r._immediateFn(function(){t._handled||r._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)i(t,t._deferreds[e]);t._deferreds=null}function h(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,a(e,t))})}catch(t){if(n)return;n=!0,a(e,t)}}var f=setTimeout;r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var o=new this.constructor(n);return i(this,new h(t,e,o)),o},r.all=function(t){return new r(function(e,n){function o(t,s){try{if(s&&("object"===(void 0===s?"undefined":_typeof(s))||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){o(t,e)},n)}r[t]=s,0==--i&&e(r)}catch(t){n(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);for(var i=r.length,s=0;s<r.length;s++)o(s,r[s])})},r.resolve=function(t){return t&&"object"===(void 0===t?"undefined":_typeof(t))&&t.constructor===r?t:new r(function(e){e(t)})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){for(var o=0,r=t.length;o<r;o++)t[o].then(e,n)})},r._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){f(t,0)},r._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},r._setImmediateFn=function(t){r._immediateFn=t},r._setUnhandledRejectionFn=function(t){r._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=r:t.Promise||(t.Promise=r)}(this)},{}],6:[function(t,e,n){(function(t){!function(o){function r(t){throw new RangeError(U[t])}function i(t,e){for(var n=t.length,o=[];n--;)o[n]=e(t[n]);return o}function s(t,e){var n=t.split("@"),o="";return n.length>1&&(o=n[0]+"@",t=n[1]),t=t.replace(q,"."),o+i(t.split("."),e).join(".")}function a(t){for(var e,n,o=[],r=0,i=t.length;r<i;)e=t.charCodeAt(r++),e>=55296&&e<=56319&&r<i?(n=t.charCodeAt(r++),56320==(64512&n)?o.push(((1023&e)<<10)+(1023&n)+65536):(o.push(e),r--)):o.push(e);return o}function u(t){return i(t,function(t){var e="";return t>65535&&(t-=65536,e+=D(t>>>10&1023|55296),t=56320|1023&t),e+=D(t)}).join("")}function h(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:x}function l(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function f(t,e,n){var o=0;for(t=n?R(t/I):t>>1,t+=R(t/e);t>P*O>>1;o+=x)t=R(t/P);return R(o+(P+1)*t/(t+T))}function c(t){var e,n,o,i,s,a,l,c,d,p,m=[],y=t.length,v=0,b=E,g=A;for(n=t.lastIndexOf(C),n<0&&(n=0),o=0;o<n;++o)t.charCodeAt(o)>=128&&r("not-basic"),m.push(t.charCodeAt(o));for(i=n>0?n+1:0;i<y;){for(s=v,a=1,l=x;i>=y&&r("invalid-input"),c=h(t.charCodeAt(i++)),(c>=x||c>R((w-v)/a))&&r("overflow"),v+=c*a,d=l<=g?j:l>=g+O?O:l-g,!(c<d);l+=x)p=x-d,a>R(w/p)&&r("overflow"),a*=p;e=m.length+1,g=f(v-s,e,0==s),R(v/e)>w-b&&r("overflow"),b+=R(v/e),v%=e,m.splice(v++,0,b)}return u(m)}function d(t){var e,n,o,i,s,u,h,c,d,p,m,y,v,b,g,_=[];for(t=a(t),y=t.length,e=E,n=0,s=A,u=0;u<y;++u)(m=t[u])<128&&_.push(D(m));for(o=i=_.length,i&&_.push(C);o<y;){for(h=w,u=0;u<y;++u)(m=t[u])>=e&&m<h&&(h=m);for(v=o+1,h-e>R((w-n)/v)&&r("overflow"),n+=(h-e)*v,e=h,u=0;u<y;++u)if(m=t[u],m<e&&++n>w&&r("overflow"),m==e){for(c=n,d=x;p=d<=s?j:d>=s+O?O:d-s,!(c<p);d+=x)g=c-p,b=x-p,_.push(D(l(p+g%b,0))),c=R(g/b);_.push(D(l(c,0))),s=f(n,v,o==i),n=0,++o}++n,++e}return _.join("")}function p(t){return s(t,function(t){return B.test(t)?c(t.slice(4).toLowerCase()):t})}function m(t){return s(t,function(t){return S.test(t)?"xn--"+d(t):t})}var y="object"==(void 0===n?"undefined":_typeof(n))&&n&&!n.nodeType&&n,v="object"==(void 0===e?"undefined":_typeof(e))&&e&&!e.nodeType&&e,b="object"==(void 0===t?"undefined":_typeof(t))&&t;b.global!==b&&b.window!==b&&b.self!==b||(o=b);var g,_,w=2147483647,x=36,j=1,O=26,T=38,I=700,A=72,E=128,C="-",B=/^xn--/,S=/[^\x20-\x7E]/,q=/[\x2E\u3002\uFF0E\uFF61]/g,U={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=x-j,R=Math.floor,D=String.fromCharCode;if(g={version:"1.4.1",ucs2:{decode:a,encode:u},decode:c,encode:d,toASCII:m,toUnicode:p},"function"==typeof define&&"object"==_typeof(define.amd)&&define.amd)define("punycode",function(){return g});else if(y&&v)if(e.exports==y)v.exports=g;else for(_ in g)g.hasOwnProperty(_)&&(y[_]=g[_]);else o.punycode=g}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,e,n){function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,i){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var h=t.length;u>0&&h>u&&(h=u);for(var l=0;l<h;++l){var f,c,d,p,m=t[l].replace(a,"%20"),y=m.indexOf(n);y>=0?(f=m.substr(0,y),c=m.substr(y+1)):(f=m,c=""),d=decodeURIComponent(f),p=decodeURIComponent(c),o(s,d)?r(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],8:[function(t,e,n){function o(t,e){if(t.map)return t.map(e);for(var n=[],o=0;o<t.length;o++)n.push(e(t[o],o));return n}var r=function(t){switch(void 0===t?"undefined":_typeof(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"===(void 0===t?"undefined":_typeof(t))?o(s(t),function(s){var a=encodeURIComponent(r(s))+n;return i(t[s])?o(t[s],function(t){return a+encodeURIComponent(r(t))}).join(e):a+encodeURIComponent(r(t[s]))}).join(e):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],9:[function(t,e,n){n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":7,"./encode":8}],10:[function(t,e,n){function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(t,e,n){if(t&&h.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}function i(t){return h.isString(t)&&(t=r(t)),t instanceof o?t.format():o.prototype.format.call(t)}function s(t,e){return r(t,!1,!0).resolve(e)}function a(t,e){return t?r(t,!1,!0).resolveObject(e):e}var u=t("punycode"),h=t("./util");n.parse=r,n.resolve=s,n.resolveObject=a,n.format=i,n.Url=o;var l=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],p=["{","}","|","\\","^","`"].concat(d),m=["'"].concat(p),y=["%","/","?",";","#"].concat(m),v=["/","?","#"],b=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},j=t("querystring");o.prototype.parse=function(t,e,n){if(!h.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+(void 0===t?"undefined":_typeof(t)));var o=t.indexOf("?"),r=-1!==o&&o<t.indexOf("#")?"?":"#",i=t.split(r),s=/\\/g;i[0]=i[0].replace(s,"/"),t=i.join(r);var a=t;if(a=a.trim(),!n&&1===t.split("#").length){var f=c.exec(a);if(f)return this.path=a,this.href=a,this.pathname=f[1],f[2]?(this.search=f[2],this.query=e?j.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=l.exec(a);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,a=a.substr(d.length)}if(n||d||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===a.substr(0,2);!O||d&&w[d]||(a=a.substr(2),this.slashes=!0)}if(!w[d]&&(O||d&&!x[d])){for(var T=-1,I=0;I<v.length;I++){var A=a.indexOf(v[I]);-1!==A&&(-1===T||A<T)&&(T=A)}var E,C;C=-1===T?a.lastIndexOf("@"):a.lastIndexOf("@",T),-1!==C&&(E=a.slice(0,C),a=a.slice(C+1),this.auth=decodeURIComponent(E)),T=-1;for(var I=0;I<y.length;I++){var A=a.indexOf(y[I]);-1!==A&&(-1===T||A<T)&&(T=A)}-1===T&&(T=a.length),this.host=a.slice(0,T),a=a.slice(T),this.parseHost(),this.hostname=this.hostname||"";var B="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!B)for(var S=this.hostname.split(/\./),I=0,q=S.length;I<q;I++){var U=S[I];if(U&&!U.match(b)){for(var P="",R=0,D=U.length;R<D;R++)U.charCodeAt(R)>127?P+="x":P+=U[R];if(!P.match(b)){var F=S.slice(0,I),k=S.slice(I+1),L=U.match(g);L&&(F.push(L[1]),k.unshift(L[2])),k.length&&(a="/"+k.join(".")+a),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),B||(this.hostname=u.toASCII(this.hostname));var N=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+N,this.href+=this.host,B&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!_[p])for(var I=0,q=m.length;I<q;I++){var V=m[I];if(-1!==a.indexOf(V)){var W=encodeURIComponent(V);W===V&&(W=escape(V)),a=a.split(V).join(W)}}var z=a.indexOf("#");-1!==z&&(this.hash=a.substr(z),a=a.slice(0,z));var Q=a.indexOf("?");if(-1!==Q?(this.search=a.substr(Q),this.query=a.substr(Q+1),e&&(this.query=j.parse(this.query)),a=a.slice(0,Q)):e&&(this.search="",this.query={}),a&&(this.pathname=a),x[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",$=this.search||"";this.path=N+$}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",o=this.hash||"",r=!1,i="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(i=j.stringify(this.query));var s=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||x[e])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),o&&"#"!==o.charAt(0)&&(o="#"+o),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+r+n+s+o},o.prototype.resolve=function(t){return this.resolveObject(r(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(h.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),u=0;u<a.length;u++){var l=a[u];"protocol"!==l&&(n[l]=t[l])}return x[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!x[t.protocol]){for(var f=Object.keys(t),c=0;c<f.length;c++){var d=f[c];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||w[t.protocol])n.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),g=b||v||n.host&&t.pathname,_=g,j=n.pathname&&n.pathname.split("/")||[],p=t.pathname&&t.pathname.split("/")||[],O=n.protocol&&!x[n.protocol];if(O&&(n.hostname="",n.port=null,n.host&&(""===j[0]?j[0]=n.host:j.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),g=g&&(""===p[0]||""===j[0])),b)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,j=p;else if(p.length)j||(j=[]),j.pop(),j=j.concat(p),n.search=t.search,n.query=t.query;else if(!h.isNullOrUndefined(t.search)){if(O){n.hostname=n.host=j.shift();var T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");T&&(n.auth=T.shift(),n.host=n.hostname=T.shift())}return n.search=t.search,n.query=t.query,h.isNull(n.pathname)&&h.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!j.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var I=j.slice(-1)[0],A=(n.host||t.host||j.length>1)&&("."===I||".."===I)||""===I,E=0,C=j.length;C>=0;C--)I=j[C],"."===I?j.splice(C,1):".."===I?(j.splice(C,1),
E++):E&&(j.splice(C,1),E--);if(!g&&!_)for(;E--;E)j.unshift("..");!g||""===j[0]||j[0]&&"/"===j[0].charAt(0)||j.unshift(""),A&&"/"!==j.join("/").substr(-1)&&j.push("");var B=""===j[0]||j[0]&&"/"===j[0].charAt(0);if(O){n.hostname=n.host=B?"":j.length?j.shift():"";var T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");T&&(n.auth=T.shift(),n.host=n.hostname=T.shift())}return g=g||n.host&&j.length,g&&!B&&j.unshift(""),j.length?n.pathname=j.join("/"):(n.pathname=null,n.path=null),h.isNull(n.pathname)&&h.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=f.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":11,punycode:6,querystring:9}],11:[function(t,e,n){e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"===(void 0===t?"undefined":_typeof(t))&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}]},{},[1]);